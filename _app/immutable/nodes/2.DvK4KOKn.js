import{t as ae,a as J}from"../chunks/B0ql_zU9.js";import{s as he,j as be,m as Ge,o as ue,F as $e,b as Fe,X as Le,w as re,h as T,q as Pe,x as Ue,N as u,Y as Ve,Z as qe,_ as me,v as te,f as Z,y as Ye,$ as Te,d as Ie,a0 as Ze,a1 as se,C as Me,a2 as oe,a3 as de,a4 as ge,a5 as _e,a6 as We,a7 as pe,a8 as Xe,a9 as Ke,B as Je,aa as Qe,e as je,ab as ea,r as aa,k as ra,ac as ta,ad as sa,ae as la,af as De,ag as na,ah as ia,ai as fa,a as ca,G as va,aj as le,ak as ke,W as I,g as ua,U as S,S as ze,I as oa,al as ee,am as Ae,V as y,an as W}from"../chunks/B5dHwgrg.js";import{s as Q,d as da}from"../chunks/CTceX-Ev.js";let ye=!1;function Ce(){ye||(ye=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var a;if(!e.defaultPrevented)for(const r of e.target.elements)(a=r.__on_r)==null||a.call(r)})},{capture:!0}))}function _a(e){var a=Ge,r=ue;he(null),be(null);try{return e()}finally{he(a),be(r)}}function He(e,a,r,t=r){e.addEventListener(a,()=>_a(r));const s=e.__on_r;s?e.__on_r=()=>{s(),t(!0)}:e.__on_r=()=>t(!0),Ce()}function ne(e,a){return a}function ha(e,a,r,t){for(var s=[],i=a.length,l=0;l<i;l++)Ke(a[l].e,s,!0);var d=i>0&&s.length===0&&r!==null;if(d){var b=r.parentNode;Je(b),b.append(r),t.clear(),B(e,a[0].prev,a[i-1].next)}Qe(s,()=>{for(var c=0;c<i;c++){var h=a[c];d||(t.delete(h.k),B(e,h.prev,h.next)),je(h.e,!d)}})}function ie(e,a,r,t,s,i=null){var l=e,d={flags:a,items:new Map,first:null},b=(a&Le)!==0;if(b){var c=e;l=T?re(Pe(c)):c.appendChild($e())}T&&Ue();var h=null,D=!1,o=Ve(()=>{var m=r();return ra(m)?m:m==null?[]:Me(m)});Fe(()=>{var m=u(o),f=m.length;if(D&&f===0)return;D=f===0;let M=!1;if(T){var x=l.data===qe;x!==(f===0)&&(l=me(),re(l),te(!1),M=!0)}if(T){for(var w=null,L,k=0;k<f;k++){if(Z.nodeType===8&&Z.data===Ye){l=Z,M=!0,te(!1);break}var v=m[k],_=t(v,k);L=Re(Z,d,w,null,v,_,k,s,a,r),d.items.set(_,L),w=L}f>0&&re(me())}T||ba(m,d,l,s,a,t,r),i!==null&&(f===0?h?Te(h):h=Ie(()=>i(l)):h!==null&&Ze(h,()=>{h=null})),M&&te(!0),u(o)}),T&&(l=Z)}function ba(e,a,r,t,s,i,l){var P,U,V,K;var d=(s&Xe)!==0,b=(s&(de|_e))!==0,c=e.length,h=a.items,D=a.first,o=D,m,f=null,M,x=[],w=[],L,k,v,_;if(d)for(_=0;_<c;_+=1)L=e[_],k=i(L,_),v=h.get(k),v!==void 0&&((P=v.a)==null||P.measure(),(M??(M=new Set)).add(v));for(_=0;_<c;_+=1){if(L=e[_],k=i(L,_),v=h.get(k),v===void 0){var G=o?o.e.nodes_start:r;f=Re(G,a,f,f===null?a.first:f.next,L,k,_,t,s,l),h.set(k,f),x=[],w=[],o=f.next;continue}if(b&&ma(v,L,_,s),(v.e.f&se)!==0&&(Te(v.e),d&&((U=v.a)==null||U.unfix(),(M??(M=new Set)).delete(v))),v!==o){if(m!==void 0&&m.has(v)){if(x.length<w.length){var H=w[0],C;f=H.prev;var $=x[0],F=x[x.length-1];for(C=0;C<x.length;C+=1)Ne(x[C],H,r);for(C=0;C<w.length;C+=1)m.delete(w[C]);B(a,$.prev,F.next),B(a,f,$),B(a,F,H),o=H,f=F,_-=1,x=[],w=[]}else m.delete(v),Ne(v,o,r),B(a,v.prev,v.next),B(a,v,f===null?a.first:f.next),B(a,f,v),f=v;continue}for(x=[],w=[];o!==null&&o.k!==k;)(o.e.f&se)===0&&(m??(m=new Set)).add(o),w.push(o),o=o.next;if(o===null)continue;v=o}x.push(v),f=v,o=v.next}if(o!==null||m!==void 0){for(var R=m===void 0?[]:Me(m);o!==null;)(o.e.f&se)===0&&R.push(o),o=o.next;var O=R.length;if(O>0){var X=(s&Le)!==0&&c===0?r:null;if(d){for(_=0;_<O;_+=1)(V=R[_].a)==null||V.measure();for(_=0;_<O;_+=1)(K=R[_].a)==null||K.fix()}ha(a,R,X,h)}}d&&oe(()=>{var q;if(M!==void 0)for(v of M)(q=v.a)==null||q.apply()}),ue.first=a.first&&a.first.e,ue.last=f&&f.e}function ma(e,a,r,t){(t&de)!==0&&ge(e.v,a),(t&_e)!==0?ge(e.i,r):e.i=r}function Re(e,a,r,t,s,i,l,d,b,c){var h=(b&de)!==0,D=(b&ea)===0,o=h?D?We(s):pe(s):s,m=(b&_e)===0?l:pe(l),f={i:m,v:o,k:i,a:null,e:null,prev:r,next:t};try{return f.e=Ie(()=>d(e,o,m,c),T),f.e.prev=r&&r.e,f.e.next=t&&t.e,r===null?a.first=f:(r.next=f,r.e.next=f.e),t!==null&&(t.prev=f,t.e.prev=f.e),f}finally{}}function Ne(e,a,r){for(var t=e.next?e.next.e.nodes_start:r,s=a?a.e.nodes_start:r,i=e.e.nodes_start;i!==t;){var l=aa(i);s.before(i),i=l}}function B(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function Be(e){var a,r,t="";if(typeof e=="string"||typeof e=="number")t+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(a=0;a<s;a++)e[a]&&(r=Be(e[a]))&&(t&&(t+=" "),t+=r)}else for(r in e)e[r]&&(t&&(t+=" "),t+=r);return t}function ga(){for(var e,a,r=0,t="",s=arguments.length;r<s;r++)(e=arguments[r])&&(a=Be(e))&&(t&&(t+=" "),t+=a);return t}function pa(e){return typeof e=="object"?ga(e):e??""}function ka(e,a,r){var t=e==null?"":""+e;return t=t?t+" "+a:a,t===""?null:t}function za(e,a,r,t,s,i){var l=e.__className;if(T||l!==r||l===void 0){var d=ka(r,t);(!T||d!==e.getAttribute("class"))&&(d==null?e.removeAttribute("class"):e.className=d),e.__className=r}return i}const Aa=Symbol("is custom element"),ya=Symbol("is html");function j(e){if(T){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var t=e.value;Ee(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var s=e.checked;Ee(e,"checked",null),e.checked=s}}};e.__on_r=r,ta(r),Ce()}}function Ee(e,a,r,t){var s=Na(e);T&&(s[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||s[a]!==(s[a]=r)&&(a==="loading"&&(e[sa]=r),e.removeAttribute(a))}function Na(e){return e.__attributes??(e.__attributes={[Aa]:e.nodeName.includes("-"),[ya]:e.namespaceURI===la})}function Se(e,a,r=a){var t=fa();He(e,"input",s=>{var i=s?e.defaultValue:e.value;if(i=ce(e)?ve(i):i,r(i),t&&i!==(i=a())){var l=e.selectionStart,d=e.selectionEnd;e.value=i??"",d!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(d,e.value.length))}}),(T&&e.defaultValue!==e.value||ca(a)==null&&e.value)&&r(ce(e)?ve(e.value):e.value),De(()=>{var s=a();ce(e)&&s===ve(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}const fe=new Set;function xe(e,a,r,t,s=t){var i=r.getAttribute("type")==="checkbox",l=e;let d=!1;if(a!==null)for(var b of a)l=l[b]??(l[b]=[]);l.push(r),He(r,"change",()=>{var c=r.__value;i&&(c=we(l,c,r.checked)),s(c)},()=>s(i?[]:null)),De(()=>{var c=t();if(T&&r.defaultChecked!==r.checked){d=!0;return}i?(c=c||[],r.checked=c.includes(r.__value)):r.checked=ia(r.__value,c)}),na(()=>{var c=l.indexOf(r);c!==-1&&l.splice(c,1)}),fe.has(l)||(fe.add(l),oe(()=>{l.sort((c,h)=>c.compareDocumentPosition(h)===4?-1:1),fe.delete(l)})),oe(()=>{if(d){var c;if(i)c=we(l,c,r.checked);else{var h=l.find(D=>D.checked);c=h==null?void 0:h.__value}s(c)}})}function we(e,a,r){for(var t=new Set,s=0;s<e.length;s+=1)e[s].checked&&t.add(e[s].__value);return r||t.delete(a),Array.from(t)}function ce(e){var a=e.type;return a==="number"||a==="range"}function ve(e){return e===""?null:+e}function Ea(e,a,r,t){ee(a,Array(r),!0),ee(t,Array(r),!0)}var Sa=ae('<div class="schriftlicheNote svelte-b2i0ze"><input type="text" size="2" class="svelte-b2i0ze"></div>'),xa=ae('<td class="svelte-b2i0ze"><input type="text" size="2" class="svelte-b2i0ze"></td>'),wa=ae('<td><div class="svelte-b2i0ze"> <br class="svelte-b2i0ze"> <small class="svelte-b2i0ze"> </small></div></td>'),La=ae('<h1 class="svelte-b2i0ze">WHG Günstigerprüfung LRS</h1> <div class="notensystem svelte-b2i0ze"><label class="svelte-b2i0ze"><input type="radio" class="svelte-b2i0ze"> Notensystem 1-6</label> <label class="svelte-b2i0ze"><input type="radio" class="svelte-b2i0ze"> Punktesystem 0-15</label></div> <small class="svelte-b2i0ze">Schulaufgabennoten nicht eingeben!</small> <br class="svelte-b2i0ze"> <div class="schriftlicheNoten svelte-b2i0ze">Schriftliche kleine Leistungsnachweise: (Exen, Tests, ...) <br class="svelte-b2i0ze"> <!></div> <div class="muendlicheNoten svelte-b2i0ze">Mündliche kleine Leistungsnachweise: (Abfragen, UB-Noten, ...)<br class="svelte-b2i0ze"> <table class="svelte-b2i0ze"><tbody class="svelte-b2i0ze"><tr class="svelte-b2i0ze"></tr><tr class="gewichtungen svelte-b2i0ze"></tr></tbody></table></div> <p class="svelte-b2i0ze"><span class="schnittLabel svelte-b2i0ze">Schnitt der kleinen Leistungnachweise ohne Doppeltgewichtung:</span> <br class="svelte-b2i0ze"> <span class="schnittLabel svelte-b2i0ze">Schnitt der kleinen Leistungnachweise mit Günstigerprüfung:</span> <b class="svelte-b2i0ze"> </b></p> <p class="svelte-b2i0ze"><button class="svelte-b2i0ze">Zurücksetzen</button></p>',1);function Da(e,a){va(a,!0);const r=[],t=12;let s=le(!1),i=le(ke(Array(t))),l=le(ke(Array(t))),d=W(()=>u(i).map(n=>M(n)).filter(n=>n!==void 0)),b=W(()=>u(l).map(n=>M(n)).filter(n=>n!==void 0)),c=W(()=>{let n=u(b).map(()=>1),g=u(b).map((z,p)=>p);for(;g.length;){let z=f(u(d),u(b),n),p=g.map(E=>u(b)[E]),N=o(p),A=u(b).findIndex((E,Y)=>E===N&&g.includes(Y));if(m(N,z))n[A]=2,g=g.filter(E=>E!==A);else break}return n}),h=W(()=>f(u(d),u(b),u(c))),D=W(()=>f(u(d),u(b)));function o(n){return u(s)?Math.max(...n):Math.min(...n)}function m(n,g){return u(s)?n>g:n<g}function f(n,g,z){let p=n.reduce((A,E)=>A+E,0),N=n.length;return z!==void 0?(p+=g.reduce((A,E,Y)=>A+E*Number(z[Y]),0),N+=z.reduce((A,E)=>A+Number(E),0)):(p+=g.reduce((A,E)=>A+E,0),N+=g.length),p/N}function M(n){if(n=n.replace(/^[\s+-]+|[\s+-]+$/g,""),n.match(/^\d+$/))return Number(n)}function x(n){return n==2?"doppelt":n==1?"einfach":""}var w=La(),L=I(ua(w),2),k=S(L),v=S(k);j(v),v.value=v.__value=!1,Ae(),y(k);var _=I(k,2),G=S(_);j(G),G.value=G.__value=!0,Ae(),y(_),y(L);var H=I(L,6),C=I(S(H),3);ie(C,17,()=>u(i),ne,(n,g,z)=>{var p=Sa(),N=S(p);j(N),y(p),Se(N,()=>u(i)[z],A=>u(i)[z]=A),J(n,p)}),y(H);var $=I(H,2),F=I(S($),3),R=S(F),O=S(R);ie(O,21,()=>u(l),ne,(n,g,z)=>{var p=xa(),N=S(p);j(N),y(p),Se(N,()=>u(l)[z],A=>u(l)[z]=A),J(n,p)}),y(O);var X=I(O);ie(X,21,()=>u(c),ne,(n,g)=>{var z=wa(),p=S(z),N=S(p),A=I(N,3),E=S(A,!0);y(A),y(p),y(z),ze(Y=>{za(z,1,pa(u(g)==2?"doppelt":""),"svelte-b2i0ze"),Q(N,`${u(g)??""} `),Q(E,Y)},[()=>x(u(g))]),J(n,z)}),y(X),y(R),y(F),y($);var P=I($,2),U=I(S(P)),V=I(U,5),K=S(V,!0);y(V),y(P);var q=I(P,2),Oe=S(q);Oe.__click=[Ea,i,t,l],y(q),ze((n,g)=>{Q(U,` ${n??""} `),Q(K,g)},[()=>u(D).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2,roundingMode:"floor"}),()=>u(h).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2,roundingMode:"floor"})]),xe(r,[],v,()=>u(s),n=>ee(s,n)),xe(r,[],G,()=>u(s),n=>ee(s,n)),J(e,w),oa()}da(["click"]);export{Da as component};
